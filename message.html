<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>回话通知</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/select2.css">
    <link rel="stylesheet" href="css/user/navigator.css">
    <link rel="stylesheet" href="css/user/global.css">
    <link rel="stylesheet" href="css/user/message.css">
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body>
<div class="container-fluid">
    <div class="header">
        <nav class=" navbar navbar-default navbar-fixed-top" id="top-navbar" role="navigation">
            <div class="navbar-brand">
                <a href="index.html">
                    <img src="images/logo.png" alt="Campus" class="img-responsive" height="30" width="120">
                </a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav pull-right">
                    <li class="dropdown user" id="header-user">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            <img alt="" src="images/avatar3.jpg"/>
                            <span class="username">辅导员</span>
                            <i class="fa fa-angle-down"></i>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="#"><i class="fa fa-user"></i>用户信息</a></li>
                            <li><a href="#"><i class="fa fa-comment"></i>消息</a></li>
                            <li><a href="#"><i class="fa fa-eye"></i>预留</a></li>
                            <li><a href="login.html"><i class="fa fa-power-off"></i>注销</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>
    </div>
    <div class="main row">
        <div class="col-lg-2 left-part">
            <nav class="left-nav navbar-left col-md-12 " role="navigation">
                <a href="#base" class="nav-header menu-first collapse navbar-collapse" data-toggle="collapse"><i
                        class="fa fa-user"></i>&nbsp;个人信息</a>
                <ul class="nav nav-list collapse menu-second in" id="base">
                    <li role="presentation"><a href="perfect-information.html"><i class="fa fa-edit"></i>&nbsp;完善信息</a>
                    </li>
                    <li role="presentation"><a href="change-password.html"><i class="fa fa-key"></i>&nbsp;修改密码</a></li>
                </ul>
                <a href="#message" class="nav-header menu-first collapse navbar-collapse" data-toggle="collapse">
                    <i class="fa fa-comment"></i>&nbsp;消息通知
                </a>
                <ul class="nav nav-list collapse menu-second in " id="message">
                    <li role="presentation"><a href="message.html"><i class="fa fa-comments"></i>&nbsp;临时会话</a></li>
                    <li role="presentation"><a href="email.html"><i class="fa fa-envelope"></i>&nbsp;邮件系统</a></li>
                </ul>
                <a href="#manage" class="nav-header menu-first collapse navbar-collapse" data-toggle="collapse">
                    <i class="fa fa-wrench"></i>&nbsp;操作管理
                </a>
                <ul class="nav nav-list collapse menu-second in " id="manage">
                    <li><a href="record-in.html"><i class="fa fa-pencil"></i>&nbsp;信息录入</a></li>
                    <li><a href="file-upload.html"><i class="fa fa-upload"></i>&nbsp;文件上传</a></li>
                    <li><a href="activity-create.html"><i class="fa fa-plus"></i>&nbsp;活动创建</a></li>
                    <li><a href="activity-check.html"><i class="fa fa-paperclip"></i>&nbsp;活动审批</a></li>
                </ul>
                <a href="#data" class="nav-header menu-first collapse navbar-collapse" data-toggle="collapse"><i
                        class="fa fa-bar-chart"></i>&nbsp;数据分析</a>
                <ul class="nav nav-list collapse menu-second in " id="data">
                    <li><a href="data-chart.html"><i class="fa fa-pie-chart"></i>&nbsp;数据统计</a></li>
                    <li><a href="data-table.html"><i class="fa fa-table"></i>&nbsp;数据报表</a></li>
                    <li><a href="#"><i class="fa fa-pencil"></i>&nbsp;预留</a></li>
                </ul>
                <a href="#reserve" class="nav-header menu-first collapse navbar-collapse" data-toggle="collapse"><i
                        class="icon-book icon-large"></i>&nbsp;预留</a>
                <ul class="nav nav-list collapse menu-second " id="reserve">
                    <li><a href="#"><i class="fa fa-pencil"></i>&nbsp;one</a></li>
                    <li><a href="#"><i class="fa fa-pencil"></i>&nbsp;two</a></li>
                    <li><a href="#"><i class="fa fa-pencil"></i>&nbsp;>three</a></li>
                </ul>
            </nav>
        </div>
        <div class="col-lg-offset-2 col-lg-9 domain-part">
            <div class="content">
                <div class="content-header">
                    <h2><i class="fa fa-comment"></i> 聊天室</h2>
                </div>
                <div class="content-breadcrumb">
                    <!--breadcrumb-->
                    <ul class="breadcrumb">
                        <li><a href="index.html"><i class="fa fa-home"></i> 主页</a> <span class="divider"></span></li>
                        <li class="active">即时消息</li>
                    </ul><!--/breadcrumb-->
                </div><!-- /content-breadcrumb -->

                <!-- content-body -->
                <div class="content-body">
                    <div id="toolbar-control" class="pull-right">
                        <div class="btn-group">
                            <a href="#new-message" class="btn btn-default btn-small" data-toggle="tab"><i class="fa fa-edit"></i>新建会话</a>
                            <a href="#" class="btn btn-default btn-small" data-toggle="tab"><i class="fa fa-hdd-o"></i> 档案</a>
                            <a href="#" class="btn btn-default btn-small" data-toggle="tab"><i class="fa fa-star-half-empty"></i> 其他</a>
                        </div>
                        <div class="btn-group">
                            <a href="#" class="btn btn-default btn-small dropdown-toggle" data-toggle="dropdown">
                                <i class="fa fa-cogs"></i> 消息管理
                                <i class="fa fa-caret-down"></i>
                            </a>
                            <ul class="dropdown-menu helper-font-small">
                                <li><a href="#" class="all-message">所有消息</a></li>
                                <li><a href="#" class="read-message">已读消息</a></li>
                                <li><a href="#" class="unread-message">未读消息</a></li>
                                <li class="divider"></li>
                                <li><a href="#" class="select-all">全选</a></li>
                                <li><a href="#" class="unselect-all">全部选</a></li>
                                <li class="divider"></li>
                                <li><a href="#" class="get-selected">获取选择项</a></li>
                                <li><a href="#" class="delete-message">删除消息</a></li>
                                <li class="divider"></li>
                                <li><a href="#">添加其他操作</a></li>
                            </ul>
                        </div>
                    </div><!-- toolbar controller -->

                    <div class="message-a">
                        <!-- message contact, this on left side -->
                        <div class="message-contact">
                            <!-- message contact header -->
                            <div class="mc-header">
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fa fa-search"></i></span>
                                    <input id="search-contact" type="text" class="form-control input-sm" placeholder="search" />
                                </div>
                            </div><!-- /message contact header -->
                            <!-- message contact content -->
                            <div class="mc-content">
                                <!-- list content -->
                                <ul class="contact-list">
                                    <li class="contact-alt">
                                        <!--we use data toggle tab for navigate this action-->
                                        <a href="#user-1" data-toggle="tab" data-id="iin@mail.com">
                                            <div class="contact-item">
                                                <div class="pull-left">
                                                    <img class="contact-item-object" style="width: 48px;height: 48px;" src="images/user-thumb.jpg" />
                                                </div>
                                                <div class="contact-item-body">
                                                    <div class="status">08:18pm</div>
                                                    <p class="contact-item-heading bold">江心</p>
                                                    <p class="help-block"><small class="muted">在干嘛。。。.</small></p>
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                    <li class="contact-alt">
                                        <!--we use data toggle tab for navigate this action-->
                                        <a href="#user-blah" data-toggle="tab" data-id="janesmith@mail.com">
                                            <!--we use contact-item structure like the component media in bootstrap-->
                                            <div class="contact-item">
                                                <div class="pull-left">
                                                    <img class="contact-item-object" style="width: 48px;height: 48px;" src="images/user-thumb.jpg" />
                                                </div>
                                                <div class="contact-item-body">
                                                    <div class="status">06:37pm</div>
                                                    <p class="contact-item-heading bold">Majun</p>
                                                    <p class="help-block"><small class="muted">笑尿...</small></p>
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                </ul><!-- /list contact -->
                            </div><!-- /message contact content -->
                        </div><!-- /message contact-->

                        <!-- message body, this on right side -->
                        <div class="message-body">
                            <div class="mb-content">
                                <div class="tab-content">
                                    <!--new message-->
                                    <div class="tab-pane fade active in" id="new-message">
                                        <div class="new-message">
                                            <div class="msg-new-head">
                                                <label class="control-label">To: </label>
                                                <input type="hidden" style="width:80%" name="receiver" data-form="select2" value="JiangXin" />
                                            </div>
                                            <div class="msg-body">
                                                <!--you can fill this column with the following format examples. or with your own style.-->
                                                <!--
                                                <div class="msg-in">
                                                    <input class="hide" type="checkbox" name="message-id" value="id-3" />
                                                    <span class="msg-time">10:50am</span>
                                                    <strong class="msg-user">Jane doe: </strong>
                                                    <div class="msg-text">Et sagittis ut vel dolor nullam proin</div>
                                                </div>
                                                <div class="msg-out">
                                                    <input class="hide" type="checkbox" name="message-id" value="id-4" />
                                                    <span class="msg-time">10:52am</span>
                                                    <strong class="msg-user">me: </strong>
                                                    <div class="msg-text">massa quisque sodales id dictumst.</div>
                                                </div>-->
                                            </div>
                                            <!--status typed part-->
                                            <div class="msg-typed"><i class="typicn-chat"></i> Tony正在输入...</div>
                                        </div>
                                    </div><!--new message-->

                                    <!--user message-->
                                    <div class="tab-pane fade" id="user-1">
                                        <div class="message-content">
                                            <!--content part-->
                                            <div class="msg-body">
                                                <div class="msg-in">
                                                    <input class="hide" type="checkbox" name="message-id" value="id-1" />
                                                    <span class="msg-time">10:45am</span>
                                                    <strong class="msg-user">Jack </strong>
                                                    <div class="msg-text">fvk off..</div>
                                                </div>
                                                <div class="msg-out">
                                                    <input class="hide" type="checkbox" name="message-id" value="id-2" />
                                                    <span class="msg-time">10:47am</span>
                                                    <strong class="msg-user">我: </strong>
                                                    <div class="msg-text">Come on...</div>
                                                </div>
                                            </div>
                                            <!--status typed part-->
                                            <div class="msg-typed"><i class="typicn-chat"></i>Jack 正在Coding...</div>
                                        </div>
                                    </div><!--/user message-->

                                    <!--user message-->
                                    <div class="tab-pane fade" id="user-blah">
                                        <div class="message-content">
                                            <!--content part-->
                                            <div class="msg-body">
                                                <div class="msg-in">
                                                    <input class="hide" type="checkbox" name="message-id" value="id-1" />
                                                    <span class="msg-time">10:45am</span>
                                                    <strong class="msg-user">Jane smith: </strong>
                                                    <div class="msg-text">Lorem ipsum dolor</div>
                                                </div>
                                                <div class="msg-out">
                                                    <input class="hide" type="checkbox" name="message-id" value="id-2" />
                                                    <span class="msg-time">10:47am</span>
                                                    <strong class="msg-user">me: </strong>
                                                    <div class="msg-text">Erat duis lectus vel wisi, quibusdam aliquam vehicula eleifend ut</div>
                                                </div>
                                                <div class="msg-in">
                                                    <input class="hide" type="checkbox" name="message-id" value="id-3" />
                                                    <span class="msg-time">10:50am</span>
                                                    <strong class="msg-user">Jane smith: </strong>
                                                    <div class="msg-text">Et sagittis ut vel dolor nullam proin</div>
                                                </div>
                                                <div class="msg-out">
                                                    <input class="hide" type="checkbox" name="message-id" value="id-4" />
                                                    <span class="msg-time">10:52am</span>
                                                    <strong class="msg-user">me: </strong>
                                                    <div class="msg-text">massa quisque sodales id dictumst.</div>
                                                </div>
                                            </div>
                                            <!--status typed part-->
                                            <div class="msg-typed"><i class="typicn-chat"></i> Jane smith is typing...</div>
                                        </div>
                                    </div><!--/user message-->
                                </div>

                                <!--input part-->
                                <div class="msg-input">
                                    <form enctype="multipart/form-data" />
                                    <div class="msg-desc muted">............</div>
                                    <textarea name="message-writer" class="input-block-level" placeholder="write message here..."></textarea>
                                    <div class="pull-right">
                                        <label class="checkbox helper-font-small">
                                            <input type="checkbox" data-form="uniform" id="sendEnter" name="sendEnter" checked/>Press Enter to send
                                        </label>
                                    </div>
                                    <!--this upload button, we improve it with jquery, see js code below-->
                                    <input data-form="upload-helper" type="file" name="attach-file" />
                                    <button data-form="upload-helper" data-target="attach-file" class="btn btn-small btn-link"><i class="fa fa-paperclip"></i> 添加文件</button>

                                    <input data-form="upload-helper" type="file" name="attach-alt" />
                                    <button data-form="upload-helper" data-target="attach-alt" class="btn btn-small btn-link"><i class="fa fa-upload"></i> 其他上传</button>
                                    </form>
                                </div><!--/input part-->
                            </div>
                        </div>
                    </div>
                    <!--/message-->
                </div><!--/content-body -->
            </div>

        </div>
        <div class="col-lg-2 right-part">
            <aside class="side-right">
                <!-- sidebar-right -->
                <div class="sidebar-right">
                    <!--sidebar-right-header-->
                    <div class="sidebar-right-header">
                        <div class="sr-header-right">
                            <h2><span class="label label-info">$26,875</span></h2>
                        </div>
                        <div class="sr-header-left">
                            <p class="bold">Balance</p>
                            <small class="muted">Dec 30 2012</small>
                        </div>
                    </div><!--/sidebar-right-header-->
                    <!--sidebar-right-control-->
                    <div class="sidebar-right-control">
                        <ul class="sr-control-item">
                            <li class="active"><a href="#alt1" data-toggle="tab" title="alternative 1"><i class="fa fa-flag"></i></a></li>
                            <li rel="tooltip-bottom" title="view site"><a href="index.html" target="_BLANK"><i class="fa fa-external-link"></i></a></li>
                        </ul>
                    </div><!-- /sidebar-right-control-->
                    <!-- sidebar-right-content -->
                    <div class="sidebar-right-content">
                        <div class="tab-content">

                            <!--alternative 1-->
                            <div class="tab-pane fade active in" id="alt1">
                                <div class="divider-content"><span></span></div> <!--divider-->

                                <button class="btn btn-block btn-mini btn-primary">Add Action</button>
                                <button class="btn btn-block btn-mini">Add Action</button>

                                <div class="divider-content"><span></span></div> <!--divider-->

                                <!-- side-task -->
                                <div class="side-task">
                                    <div class="task active">
                                                <span class="task-header">
                                                    <img src="images/loader_16.gif" />
                                                    <strong>Portofolio_W34GF.zip</strong>
                                                </span>
                                        <span class="task-desc">9.1 of 17MB - 243KB/sec - 1 min</span>
                                        <div class="progress progress-striped active" rel="tooltip" title="40%">
                                            <div class="progress-bar bar-success" style="width: 40%;"></div>
                                        </div>
                                    </div>
                                    <div class="task fade in">
                                        <i class="fa fa-remove text-danger" title="failed"></i>
                                        <span class="task-desc">Paralax_bg_5448.jpg</span>
                                        <button data-dismiss="alert" class="close">&times;</button>
                                    </div>
                                    <div class="task fade in">
                                        <i class="fa fa-check-circle text-success" title="success"></i>
                                        <span class="task-desc">Widget_sidebar_W0089.psd</span>
                                        <button data-dismiss="alert" class="close">&times;</button>
                                    </div>
                                    <div class="task fade in">
                                        <i class="fa fa-remove text-danger" title="failed"></i>
                                        <span class="task-desc">Widget_sidebar_W0089.psd</span>
                                        <button data-dismiss="alert" class="close">&times;</button>
                                    </div>
                                    <div class="task fade in">
                                        <i class="fa fa-cloud-upload" title="cancel"></i>
                                        <span class="task-desc">Widget_sidebar_W0089.psd</span>
                                        <button data-dismiss="alert" class="close">&times;</button>
                                    </div>
                                    <div class="task fade in">
                                        <i class="fa fa-cloud-upload" title="cancel"></i>
                                        <span class="task-desc">Widget_sidebar_W0089.psd</span>
                                        <button data-dismiss="alert" class="close">&times;</button>
                                    </div>
                                    <div class="task fade in">
                                        <i class="fa fa-check-circle text-success" title="success"></i>
                                        <span class="task-desc">Icons_bg_I98GH.jpg</span>
                                        <button data-dismiss="alert" class="close">&times;</button>
                                    </div>
                                </div><!-- /side-task -->
                                <div class="divider-content"><span></span></div> <!--divider-->
                            </div><!--/alternative 1-->
                        </div>
                    </div><!-- /sidebar-right-content -->
                </div><!-- /sidebar-right -->
            </aside><!-- /side-right -->
        </div>
    </div>
    <div class="footer"></div>
</div>

<footer>
    <a rel="to-top" href="#top"><i class="fa fa-circle-arrow-up"></i></a>
</footer>



<script src="js/jquery-2.2.0.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script type="text/javascript">
    jQuery.browser={};
    (function(){
        jQuery.browser.msie=false;
        jQuery.browser.version=0;
        if(navigator.userAgent.match(/MSIE ([0-9]+)./)) {
            jQuery.browser.msie=true;jQuery.browser.version=RegExp.$1;
        }
    })();
</script>
<script src="js/jquery.uniform.js"></script>
<script src="js/select2.js"></script>
<script src="js/bootstrap.min.js"></script>

<script type="text/javascript">
    $(document).ready(function() {
        // try your js

//        // uniform
        $('[data-form=uniform]').uniform();

//        //seect2
        $('[data-form=select2]').select2({
            tags:['Tony', 'Majun', 'JSexy', '狗蛋']
        });

        // helper upload (input=file) style
        $('[data-form=upload-helper][type=file]').hide();
        $('.btn[data-form=upload-helper]').click(function(){
            $this = $(this);
            targetFile = $this.attr('data-target');

            $('[name='+targetFile+']').click().change(function(){
                alert("you'll be upload "+$(this).val());
            });
            return false;
        });

        // simulation uses a message-a
        $('[name=message-writer]').keydown(function(e){
            if( e.which == 13 ){
                autoSend = $('#sendEnter').attr('checked');
                var d = new Date(), // demo date obj
                        h = d.getHours(), // get hours
                        m = d.getMinutes(), // get minutes
                        a_p = '';

                // get am/pm
                if (h < 12){
                    a_p = "am";
                }
                else{
                    a_p = "pm";
                    h = h - 12;
                }
                if(autoSend == 'checked' && $(this).val() != '' && $(this).val() != ' '){
                    msg = '<div class="msg-out">'
                            +'     <span class="msg-time">'+h+':'+m+a_p+'</span>'
                            +'     <strong class="msg-user">me: </strong>'
                            +'     <div class="msg-text">'+$(this).val()+'</div>'
                            +' </div>';

                    $msg_body = $('.message-body .tab-pane.active .msg-body'); // select active tab

                    $msg_body.append(msg).animate({ scrollTop: $msg_body.get(0).scrollHeight });;
                    $(this).val('');
                    return false;
                }
                else{
                    return false;
                }

                // server side action here....

            }
            else{
                return true;
            }
        });

        // searching contact list
        $('#search-contact').keydown(function(){
            // Retrieve the input field text and reset the count to zero
            var filter = $(this).val();

            // Loop through the comment list
            $(".contact-list > .contact-alt").each(function(){

                // If the list item does not contain the text phrase fade it out
                if ($(this).text().search(new RegExp(filter, "i")) < 0) {
                    $(this).fadeOut();

                    // Show the list item if the phrase matches and increase the count by 1
                } else {
                    $(this).show();
                }
            });
        });

        // selected message
        $('.msg-body .msg-in, .msg-body .msg-out').click(function(){
            $this = $(this);
            checkbox = $this.find('[name=message-id]');
            checked = checkbox.attr('checked');
            msg_id = checkbox.val();

            $this.toggleClass('selected');
            if(checked == undefined){
                checkbox.attr('checked', true)
            }
            else{
                checkbox.attr('checked', false)
            }
        });
        // tab event control to help selected message
        $('#toolbar-control a[data-toggle="tab"], .contact-list a[data-toggle="tab"]').on('shown', function(){
            msg = $('.msg-body .msg-in, .msg-body .msg-out');
            msg.removeClass('selected'); // remove all selected msg

            checkbox = msg.find('[name=message-id]');
            checkbox.attr('checked', false); // remove all checked msg
        });

        // action part demo
        $('.all-message').click(function(e){
            $('.contact-list > .contact-alt').show('slow');
            e.preventDefault();
        });
        $('.read-message').click(function(e){
            $('.contact-list > .contact-alt').show('slow');
            $('.contact-list > .contact-alt.unread').hide('slow');
            e.preventDefault();
        });
        $('.unread-message').click(function(e){
            $('.contact-list > .contact-alt').hide('slow');
            $('.contact-list > .contact-alt.unread').show('slow');
            e.preventDefault();
        });
        $('.select-all').click(function(e){
            msg = $('.tab-pane.active .msg-body .msg-in, .tab-pane.active .msg-body .msg-out'); // get only active tab
            msg.addClass('selected');
            msg.find('[name=message-id]').attr('checked', true);
            e.preventDefault();
        })
        $('.unselect-all').click(function(e){
            msg = $('.tab-pane.active .msg-body .msg-in, .tab-pane.active .msg-body .msg-out');
            msg.removeClass('selected');
            msg.find('[name=message-id]').attr('checked', false);
            e.preventDefault();
        })
        $('.get-selected').click(function(e){
            selected = $('.tab-pane.active .msg-body .msg-in, .tab-pane.active .msg-body .msg-out').find('[name=message-id][checked=checked]');
            data = selected.serialize();
            alert(data);
            e.preventDefault();
        });
        $('.delete-message').click(function(e){
            $('.tab-pane.active .msg-body .msg-in.selected, .tab-pane.active .msg-body .msg-out.selected').remove();
            e.preventDefault();
        });
    });
</script>
</body>
</html>